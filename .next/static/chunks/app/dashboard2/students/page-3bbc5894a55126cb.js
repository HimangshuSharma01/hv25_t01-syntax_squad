(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{2095:(e,t,a)=>{Promise.resolve().then(a.bind(a,3041))},3041:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(5155),s=a(2200),l=a(2115),o=a(9509);let c={width:"100%",height:"400px"},i={lat:26.76985,lng:88.37584};function r(e){let{onMarkAttendance:t}=e,[a,r]=(0,l.useState)(null),[d,h]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{"geolocation"in navigator&&navigator.geolocation.watchPosition(e=>{let t=e.coords.latitude,a=e.coords.longitude;r({lat:t,lng:a}),h(3e4>=function(e,t,a,n){let s=e*Math.PI/180,l=a*Math.PI/180,o=(a-e)*Math.PI/180,c=(n-t)*Math.PI/180,i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(s)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3}(t,a,i.lat,i.lng))})},[]),(0,n.jsxs)(s.aJ,{googleMapsApiKey:o.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,children:[(0,n.jsx)(s.u6,{mapContainerStyle:c,center:i,zoom:15,children:a&&(0,n.jsx)(s.pH,{position:a})}),(0,n.jsxs)("div",{className:"text-center mt-4",children:[(0,n.jsxs)("h2",{className:"text-lg font-semibold",children:["Your Location:"," ",a?"".concat(a.lat,", ").concat(a.lng):"Fetching..."]}),d?(0,n.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded mt-3",onClick:t,children:"Mark Attendance"}):(0,n.jsx)("p",{className:"text-red-500 mt-3",children:"You are outside the allowed area"})]})]})}function d(){let[e,t]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4 p-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Student Attendance"}),(0,n.jsx)(r,{onMarkAttendance:()=>{setTimeout(()=>{t(!0),alert(" Attendance Marked Successfully!")},1e3)}}),e&&(0,n.jsx)("p",{className:"text-green-600 font-semibold mt-4",children:"Attendance has been recorded!"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[84,441,684,358],()=>t(2095)),_N_E=e.O()}]);